(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38d338e2"],{"16c2":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"wrap-contant",staticStyle:{"padding-top":"20px"}},[a("div",{staticClass:"simple"},[a("el-form",{ref:"searchform",attrs:{size:"mini",model:e.searchform,"label-width":"110px"}},[a("el-row",[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"键值Key："}},[a("el-input",{model:{value:e.searchform.key,callback:function(t){e.$set(e.searchform,"key",t)},expression:"searchform.key"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{"label-width":"0px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("el-col",{attrs:{span:9}},[a("el-form-item",{staticStyle:{"text-align":"right"},attrs:{"label-width":"0px"}},[a("el-button",{on:{click:e.toAdd}},[e._v("添加")])],1)],1)],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,size:"mini"}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"键",prop:"key",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"值",prop:"value",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"描述",prop:"description",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.onSubmitEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.toDelete(t.row.key)}}},[e._v("删除")])]}}])})],1),e._v(" "),[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.appres.pageIndex,"page-sizes":[10,15,20],"page-size":e.appres.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.appres.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],e._v(" "),a("el-dialog",{attrs:{"append-to-body":"",title:"设置键值",visible:e.visiable},on:{"update:visible":function(t){e.visiable=t}}},[a("div",{attrs:{align:"center"}},[a("el-form",{ref:"kvmodel",attrs:{model:e.kvmodel,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"键:",prop:"key"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请输入键",maxlength:"100"},model:{value:e.kvmodel.key,callback:function(t){e.$set(e.kvmodel,"key",t)},expression:"kvmodel.key"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"值:",prop:"value"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:2,size:"small",placeholder:"请输入值"},model:{value:e.kvmodel.value,callback:function(t){e.$set(e.kvmodel,"value",t)},expression:"kvmodel.value"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述:",prop:"description"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:3,size:"small",placeholder:"请输入描述"},model:{value:e.kvmodel.description,callback:function(t){e.$set(e.kvmodel,"description",t)},expression:"kvmodel.description"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){e.visiable=!1}}},[e._v("取消")])],1)],1)],1)])],2)])},n=[],i=(a("386d"),a("b775")),s={name:"appsettings",data:function(){return{baseuri:"",searchform:{pageIndex:1,pageSize:10},data:[],appres:{pageIndex:1,pageSize:10,totalCount:0},visiable:!1,kvmodel:{},rules:{key:[{required:!0,message:"请输入键",trigger:"blur"}],value:[{required:!0,message:"请输入值",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]}}},mounted:function(){console.log(1),this.search()},methods:{handleSizeChange:function(e){var t=this;t.appres.pageSize=e,t.search()},handleCurrentChange:function(e){var t=this;t.appres.pageIndex=e,t.search()},search:function(){var e=this;e.searchform.pageIndex=e.appres.pageIndex,e.searchform.pageSize=e.appres.pageSize,Object(i["a"])({url:"".concat(this.baseuri,"/api/AppSettingByCafs/QueryPageList"),method:"post",data:e.searchform}).then((function(t){console.log(t),e.data=t.datas,e.appres.totalCount=t.total})).catch((function(e){console.log(e)}))},toAdd:function(){this.visiable=!0,this.kvmodel={}},toDelete:function(e){var t=this;this.$confirm("删除该配置, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=t;Object(i["a"])({url:"".concat(t.baseuri,"/api/AppSettingByCafs/Delete?key=").concat(e),method:"get",data:{}}).then((function(e){console.log(e),e.isSuccess?(a.visiable=!1,a.$message({message:"操作成功！",type:"success"}),a.search()):a.$message.error("操作失败：".concat(e.message))})).catch((function(e){console.log(e)}))})).catch((function(){}))},onSubmitEdit:function(e){this.visiable=!0,this.kvmodel=e},onSubmit:function(){console.log(this.kvmodel);var e=this;Object(i["a"])({url:"".concat(this.baseuri,"/api/AppSettingByCafs/UpdateOrCreate"),method:"post",data:e.kvmodel}).then((function(t){console.log(t),t.isSuccess?(e.visiable=!1,e.$message({message:"操作成功！",type:"success"}),e.search()):e.$message.error("操作失败：".concat(t.message))})).catch((function(e){console.log(e)}))}}},o=s,r=a("2877"),c=Object(r["a"])(o,l,n,!1,null,"36bb1832",null);t["default"]=c.exports},"386d":function(e,t,a){"use strict";var l=a("cb7c"),n=a("83a1"),i=a("5f1b");a("214f")("search",1,(function(e,t,a,s){return[function(a){var l=e(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,l):new RegExp(a)[t](String(l))},function(e){var t=s(a,e,this);if(t.done)return t.value;var o=l(e),r=String(this),c=o.lastIndex;n(c,0)||(o.lastIndex=0);var u=i(o,r);return n(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]}))},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}}}]);